<tool id="anvi_delete_hmms" name="anvi-delete-hmms" version="5.3">
    <description>Remove HMM hits from an anvi'o contigs database.</description>
    <requirements>
        <requirement type="package" version="5.3">anvio</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <version_command>anvi-delete-hmms --version</version_command>
    <command><![CDATA[
        cp -R '${input_contigs_db.extra_files_path}' '${output_contigs_db.extra_files_path}'
 &&
 anvi-delete-hmms
--contigs-db '${output_contigs_db.extra_files_path}/CONTIGS.db'


#if $str( $hmm_source ):
    --hmm-source '${hmm_source}'
#end if

${list_hmm_sources}

--just-do-it
&> '${GALAXY_ANVIO_LOG}'

    ]]></command>
    <inputs>
        <param name="input_contigs_db" type="data" label="Contigs Db" format="anvio_contigs_db" optional="False" multiple="False" argument="--contigs-db" help="Anvi'o contigs database generated by 'anvi-gen-contigs'"/>
        <param name="hmm_source" type="text" label="Hmm Source" value="" optional="True" argument="--hmm-source" help="Use a specific HMM source. You can use '--list-hmm-sources' flag to see a list of available resources. The default is '%(default)s'."/>
        <param name="list_hmm_sources" type="boolean" label="List Hmm Sources" truevalue="--list-hmm-sources" falsevalue="" checked="False" optional="True" argument="--list-hmm-sources" help="List available HMM sources in the contigs database and quit."/>
    </inputs>
    <outputs>
        <data name="output_contigs_db" format="anvio_contigs_db" format_source="input_contigs_db" metadata_source="input_contigs_db" label="${tool.name} on ${on_string}: Contigs Db"/>
        <data name="GALAXY_ANVIO_LOG" format="txt" label="${tool.name} on ${on_string}: Log"/>
    </outputs>
    <help><![CDATA[
        usage: anvi-delete-hmms [-h] -c CONTIGS_DB [--hmm-source SOURCE NAME]
                              [-l] [--just-do-it]

Remove HMM hits from an anvi'o contigs database.

optional arguments:
  -h, --help            show this help message and exit
  -c CONTIGS_DB, --contigs-db CONTIGS_DB
                        Anvi'o contigs database generated by 'anvi-gen-
                        contigs'
  --hmm-source SOURCE NAME
                        Use a specific HMM source. You can use '--list-hmm-
                        sources' flag to see a list of available resources.
                        The default is 'None'.
  -l, --list-hmm-sources
                        List available HMM sources in the contigs database and
                        quit.
  --just-do-it          Don't bother me with questions or warnings, just do
                        it.

    ]]></help>
    <citations>
        <citation type="doi">10.7717/peerj.1319</citation>
        <citation type="bibtex">@ARTICLE{Blankenberg19-anvio,
   author = {Daniel Blankenberg, et al},
   title = {In preparation..},
   }</citation>
    </citations>
</tool>