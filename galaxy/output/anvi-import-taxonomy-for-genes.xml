<tool id="anvi_import_taxonomy_for_genes" name="anvi-import-taxonomy-for-genes" version="5.2">
    <description>Import gene-level taxonomy into an anvi'o contigs database.</description>
    <requirements>
        <requirement type="package" version="5.2">anvio</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <version_command>anvi-import-taxonomy-for-genes --version</version_command>
    <command><![CDATA[
        cp -R '${input_contigs_db.extra_files_path}' '${output_contigs_db.extra_files_path}'
 &&
 anvi-import-taxonomy-for-genes
--contigs-db '${output_contigs_db.extra_files_path}/CONTIGS.db'


#if $str( $parser ):
    --parser '${parser}'
#end if

--input-files '${input_files}'

--just-do-it
&> '${GALAXY_ANVIO_LOG}'

    ]]></command>
    <inputs>
        <param name="input_contigs_db" type="data" label="Contigs Db" format="anvio_contigs_db" optional="False" multiple="False" argument="--contigs-db" help="Anvi'o contigs database generated by 'anvi-gen-contigs'"/>
        <param name="parser" type="text" label="Parser" value="" optional="True" argument="--parser" help="Parser to make sense of the input files. There are 3 parsers readily available: ['default_matrix', 'centrifuge', 'kaiju']. It is OK if you do not select a parser, but in that case there will be no additional contigs available except the identification of single-copy genes in your contigs for later use. Using a parser will not prevent the analysis of single-copy genes, but make anvio more powerful to help you make sense of your results. Please see the documentation, or get in touch with the developers if you have any questions regarding parsers."/>
        <param name="input_files" type="data" label="Input Files" format="data" optional="False" multiple="True" argument="--input-files" help='Input file(s) for selected parser. Each parser (except "blank") requires input files to process that you generate before running anvio. Please see the documentation for details.'/>
    </inputs>
    <outputs>
        <data name="output_contigs_db" format="anvio_contigs_db" format_source="input_contigs_db" metadata_source="input_contigs_db" label="${tool.name} on ${on_string}: Contigs Db"/>
        <data name="GALAXY_ANVIO_LOG" format="txt" label="${tool.name} on ${on_string}: Log"/>
    </outputs>
    <help><![CDATA[
        usage: anvi-import-taxonomy-for-genes [-h] -c CONTIGS_DB [-p PARSER] -i FILES)
                              [FILE(S ...] [--just-do-it]

Import gene-level taxonomy into an anvi'o contigs database.

optional arguments:
  -h, --help            show this help message and exit
  -c CONTIGS_DB, --contigs-db CONTIGS_DB
                        Anvi'o contigs database generated by 'anvi-gen-
                        contigs'
  -p PARSER, --parser PARSER
                        Parser to make sense of the input files. There are 3
                        parsers readily available: ['default_matrix',
                        'centrifuge', 'kaiju']. It is OK if you do not select
                        a parser, but in that case there will be no additional
                        contigs available except the identification of single-
                        copy genes in your contigs for later use. Using a
                        parser will not prevent the analysis of single-copy
                        genes, but make anvio more powerful to help you make
                        sense of your results. Please see the documentation,
                        or get in touch with the developers if you have any
                        questions regarding parsers.
  -i FILE(S) [FILE(S) ...], --input-files FILE(S) [FILE(S) ...]
                        Input file(s) for selected parser. Each parser (except
                        "blank") requires input files to process that you
                        generate before running anvio. Please see the
                        documentation for details.
  --just-do-it          Don't bother me with questions or warnings, just do
                        it.

    ]]></help>
    <citations>
        <citation type="doi">10.7717/peerj.1319</citation>
        <citation type="bibtex">@ARTICLE{Blankenberg19-anvio,
   author = {Daniel Blankenberg, et al},
   title = {In preparation..},
   }</citation>
    </citations>
</tool>