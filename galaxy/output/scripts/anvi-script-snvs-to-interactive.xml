<tool id="anvi_script_snvs_to_interactive" name="anvi-script-snvs-to-interactive" version="5.3">
    <description>Take the output of anvi-gen-variability-profile, prepare an output for interactive interface</description>
    <requirements>
        <requirement type="package" version="5.3">anvio</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <version_command>anvi-script-snvs-to-interactive --version</version_command>
    <command><![CDATA[
        anvi-script-snvs-to-interactive

#if $profile:
     '${profile}'
#end if


#if $str( $min_departure_from_consensus ):
    --min-departure-from-consensus '${min_departure_from_consensus}'
#end if


#if $str( $max_departure_from_consensus ):
    --max-departure-from-consensus '${max_departure_from_consensus}'
#end if


#if $output_dir:
    --output-dir '${output_dir.extra_files_path}'
#end if

&> '${GALAXY_ANVIO_LOG}'

    ]]></command>
    <inputs>
        <param name="profile" type="data" label="Profile" format="anvio_variability" optional="True" multiple="False" argument="" help="The output file generated by anvi-gen-variability-profile"/>
        <param name="min_departure_from_consensus" type="float" label="Min Departure From Consensus" value="0.0" optional="True" argument="--min-departure-from-consensus" help="Minimum departure from consensus at a given variable nucleotide position. The default is %(default).2f."/>
        <param name="max_departure_from_consensus" type="float" label="Max Departure From Consensus" value="0.99" optional="True" argument="--max-departure-from-consensus" help="Maximum departure from consensus at a given variable nucleotide position. The default is %(default).2f."/>
    </inputs>
    <outputs>
        <data name="output_dir" format="anvio_profile_db" format_source="input_output_dir" metadata_source="input_output_dir" label="${tool.name} on ${on_string}: Output Dir"/>
        <data name="GALAXY_ANVIO_LOG" format="txt" label="${tool.name} on ${on_string}: Log"/>
    </outputs>
    <help><![CDATA[
        usage: anvi-script-snvs-to-interactive [-h] [--min-departure-from-consensus FLOAT]
                              [--max-departure-from-consensus FLOAT] -o
                              DIR_PATH
                              VARIABILITY_PROFILE

Take the output of anvi-gen-variability-profile, prepare an output for
interactive interface

positional arguments:
  VARIABILITY_PROFILE   The output file generated by anvi-gen-variability-
                        profile

optional arguments:
  -h, --help            show this help message and exit
  --min-departure-from-consensus FLOAT
                        Minimum departure from consensus at a given variable
                        nucleotide position. The default is 0.00.
  --max-departure-from-consensus FLOAT
                        Maximum departure from consensus at a given variable
                        nucleotide position. The default is 0.99.
  -o DIR_PATH, --output-dir DIR_PATH
                        Directory path for output files

    ]]></help>
    <citations>
        <citation type="doi">10.7717/peerj.1319</citation>
        <citation type="bibtex">@ARTICLE{Blankenberg19-anvio,
   author = {Daniel Blankenberg, et al},
   title = {In preparation..},
   }</citation>
    </citations>
</tool>