<tool id="anvi_script_gen_stats_for_single_copy_genes.py" name="anvi-script-gen_stats_for_single_copy_genes.py" version="5.3.0" tool_type="default">
    <description>A simple script to generate info from search tables</description>
    <requirements>
        <requirement type="package" version="5.3.0">anvio</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <version_command>anvi-script-gen_stats_for_single_copy_genes.py --version</version_command>
    <command><![CDATA[
        
    #if $input_contigs_db:
        cp -R '${input_contigs_db.extra_files_path}' '${output_contigs_db.extra_files_path}'
    #else
        echo ''
    #end if
 &&
 anvi-script-gen_stats_for_single_copy_genes.py
 '${output_contigs_db.extra_files_path}/CONTIGS.db'

${list_sources}


#if $str( $source ):
    --source '${source}'
#end if

&> '${GALAXY_ANVIO_LOG}'

    ]]></command>
    <inputs>
        <param name="input_contigs_db" type="data" label="Contigs Db" format="anvio_contigs_db" optional="True" multiple="False" argument="" help="Contigs database to read from."/>
        <param name="list_sources" type="boolean" label="List Sources" truevalue="--list-sources" falsevalue="" checked="False" optional="True" argument="--list-sources" help="Show available single-copy gene search results and exit."/>
        <param name="source" type="text" label="Source" value="" optional="True" argument="--source" help="Source to focus on. If none declared, all single-copy gene sources are going to be listed."/>
    </inputs>
    <outputs>
        <data name="output_contigs_db" format="anvio_contigs_db" format_source="input_contigs_db" metadata_source="input_contigs_db" label="${tool.name} on ${on_string}: Contigs Db"/>
        <data name="GALAXY_ANVIO_LOG" format="txt" label="${tool.name} on ${on_string}: Log"/>
    </outputs>
    <help><![CDATA[
        usage: anvi-script-gen_stats_for_single_copy_genes.py [-h] [--list-sources] [--source SOURCE]
                              CONTIGS_DB

A simple script to generate info from search tables

positional arguments:
  CONTIGS_DB       Contigs database to read from.

optional arguments:
  -h, --help       show this help message and exit
  --list-sources   Show available single-copy gene search results and exit.
  --source SOURCE  Source to focus on. If none declared, all single-copy gene
                   sources are going to be listed.

    ]]></help>
    <citations>
        <citation type="doi">10.7717/peerj.1319</citation>
        <citation type="bibtex">@ARTICLE{Blankenberg19-anvio,
   author = {Daniel Blankenberg, et al},
   title = {In preparation..},
   }</citation>
    </citations>
</tool>